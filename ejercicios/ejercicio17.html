
<!DOCTYPE html>

<html lang="es">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Polimorfismo · Python Academy</title>
  <meta name="description" content="Ejercicio de polimorfismo.">

  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <link href="../static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../static/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../static/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../static/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <link href="../static/assets/css/main.css" rel="stylesheet">
  <link href="../static/assets/css/custom.css" rel="stylesheet">

  <style>
    .hero-ej {
      background: #f8fafc;
      border-bottom: 1px solid rgba(0, 0, 0, .08);
      padding: 52px 0;
    }

    .hero-ej .badge {
      border-radius: 999px;
      padding: 8px 14px;
      font-weight: 700;
    }

    .hero-ej h1 {
      font-weight: 800;
      letter-spacing: -.02em;
    }

    .hero-ej p {
      max-width: 920px;
      margin: 0 auto;
    }

    .hero-top-actions {
      display: flex;
      justify-content: center;
      margin-bottom: 14px;
    }

    .btn-pill {
      border-radius: 999px;
      padding: 10px 22px;
      font-weight: 700;
    }

    .btn-pill-sm {
      border-radius: 999px;
      padding: 8px 16px;
      font-weight: 700;
    }

    .ej-wrap {
      padding: 36px 0 70px;
    }

    .ej-panel {
      border-radius: 18px;
      border: 1px solid rgba(0, 0, 0, .08);
      box-shadow: 0 10px 25px rgba(0, 0, 0, .05);
      background: #fff;
      padding: 26px;
    }

    .ej-actions {
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid rgba(0, 0, 0, .08);
      display: flex;
      justify-content: center;
    }

    .form-shell {
      margin-top: 22px;
      display: flex;
      justify-content: center;
    }

    .form-card {
      width: 100%;
      max-width: 720px;
      border-radius: 18px;
      border: 1px solid rgba(0, 0, 0, .08);
      box-shadow: 0 10px 25px rgba(0, 0, 0, .06);
      background: #fff;
      padding: 22px;
    }

    .form-card * {
      max-width: 100%;
    }

    .ej-nav-bottom {
      margin-top: 26px;
      padding-top: 18px;
      border-top: 1px solid rgba(0, 0, 0, .08);
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .ej-nav-bottom .btn {
      min-width: 170px;
    }

    .explain-card {
      border: 1px solid rgba(0, 0, 0, .08);
      border-radius: 16px;
      padding: 18px;
      background: #fbfdff;
    }

    .code-box {
      background: #0b1220;
      color: #e6edf3;
      border-radius: 14px;
      padding: 14px;
      overflow: auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      font-size: .92rem;
      white-space: pre;
      margin: 0;
    }

    .hint {
      font-size: .95rem;
      color: #556;
    }

    .python-notice {
      background: linear-gradient(135deg, #3776ab 0%, #ffd43b 100%);
      border-radius: 16px;
      padding: 24px;
      color: white;
      margin-top: 20px;
    }

    .python-notice h5 {
      color: white;
      font-weight: 700;
    }

    .python-notice code {
      background: rgba(255, 255, 255, 0.2);
      padding: 2px 8px;
      border-radius: 4px;
      color: white;
    }
  </style>
  <link href="../static/assets/css/custom-effects.css" rel="stylesheet">
  <link href="../static/assets/css/navbar-nested.css" rel="stylesheet">
</head>

<body>
      <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-modern fixed-top">
    <div class="container">
      <a class="navbar-brand navbar-brand-custom" href="../index.html">
        <i class="bi bi-braces me-2"></i>Python Academy
      </a>

      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <i class="bi bi-list fs-3"></i>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto align-items-center gap-2">
          <li class="nav-item">
            <a class="nav-link nav-link-custom" href="../index.html">
              <i class="bi bi-house me-1"></i> Inicio
            </a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link nav-link-custom dropdown-toggle" href="#" data-bs-toggle="dropdown">
              <i class="bi bi-book me-1"></i> Teoría
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3">
              <li><a class="dropdown-item py-2" href="../teoria/teoria_infraestructura.html"><i
                    class="bi bi-server me-2 text-primary"></i>Infraestructura Backend</a></li>
              <li><a class="dropdown-item py-2" href="../teoria/teoria_historia.html"><i
                    class="bi bi-clock-history me-2 text-primary"></i>Historia de Python</a></li>
              <li><a class="dropdown-item py-2" href="../teoria/teoria_htmlpyhon.html"><i
                    class="bi bi-code-slash me-2 text-primary"></i>HTML y Python</a></li>
              <li><a class="dropdown-item py-2" href="../teoria/teoria_sintaxisComentarios.html"><i
                    class="bi bi-chat-text me-2 text-primary"></i>Sintaxis y Comentarios</a></li>
              <li><a class="dropdown-item py-2" href="../teoria/teoria_variablesConstantes.html"><i
                    class="bi bi-box me-2 text-primary"></i>Variables y Constantes</a></li>
              <li><a class="dropdown-item py-2" href="../teoria/teoria_tiposDatos.html"><i
                    class="bi bi-type me-2 text-primary"></i>Tipos de Datos</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item py-2 fw-semibold" href="../teoria.html"><i class="bi bi-grid me-2"></i>Ver todo
                  el temario</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link nav-link-custom dropdown-toggle" href="#" data-bs-toggle="dropdown">
              <i class="bi bi-code-square me-1"></i> Ejercicios
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3">
              <li class="dropdown-submenu">
                <a class="dropdown-item py-2 dropdown-toggle" href="#"><i
                    class="bi bi-input-cursor-text me-2 text-success"></i>Procesamiento de formularios</a>
                <ul class="dropdown-menu dropdown-submenu shadow-lg border-0 rounded-3">
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio1.html">Formulario request.form</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio2.html">Formulario request.files</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="dropdown-item py-2 dropdown-toggle" href="#"><i
                    class="bi bi-diagram-3 me-2 text-success"></i>Estructuras de Control</a>
                <ul class="dropdown-menu dropdown-submenu shadow-lg border-0 rounded-3">
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio3.html">Factorial</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio4.html">Triángulo de Pascal</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio5.html">Es Primo</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio6.html">Validar Cédula</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="dropdown-item py-2 dropdown-toggle" href="#"><i
                    class="bi bi-list-ul me-2 text-success"></i>Arreglos</a>
                <ul class="dropdown-menu dropdown-submenu shadow-lg border-0 rounded-3">
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio7.html">Ejemplo 01</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio8.html">Ejemplo 02</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio9.html">Arreglo</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio10.html">Matriz</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio11.html">Cubo</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio12.html">Tablas Dinámicas</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="dropdown-item py-2 dropdown-toggle" href="#"><i
                    class="bi bi-diagram-2 me-2 text-success"></i>POO</a>
                <ul class="dropdown-menu dropdown-submenu shadow-lg border-0 rounded-3">
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio13.html">Clases</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio14.html">Herencia</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio15.html">Abstracta</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio16.html">Interfaces</a></li>
                  <li><a class="dropdown-item" href="../ejercicios/ejercicio17.html">Polimorfismo</a></li>
                </ul>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item py-2 fw-semibold" href="../ejercicios.html"><i class="bi bi-grid me-2"></i>Ver todos los ejercicios</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link nav-link-custom dropdown-toggle" href="#" data-bs-toggle="dropdown">
              <i class="bi bi-database me-1"></i> Temas Avanzados
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3">
              <li><a class="dropdown-item py-2" href="../CRUD/Vehiculo-Parte I.html"><i
                    class="bi bi-car-front me-2 text-danger"></i>Vehículo - Parte I</a></li>
              <li><a class="dropdown-item py-2" href="../CRUD/Vehiculo-Parte II.html"><i
                    class="bi bi-car-front-fill me-2 text-danger"></i>Vehículo - Parte II</a></li>
              <li><a class="dropdown-item py-2" href="../CRUD/Vehiculo-Parte III.html"><i
                    class="bi bi-gear-wide-connected me-2 text-danger"></i>Vehículo - Parte III</a></li>
              <li><a class="dropdown-item py-2" href="../CRUD/Session y login.html"><i
                    class="bi bi-lock me-2 text-danger"></i>Session y Login</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item py-2 fw-semibold" href="../explicacion_crud.html"><i
                    class="bi bi-grid me-2"></i>Ver Resumen</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link nav-link-custom dropdown-toggle" href="#" data-bs-toggle="dropdown">
              <i class="bi bi-arrow-left-right me-1"></i> Python VS PHP
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3">
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/introduccion.html"><i class="bi bi-info-circle me-2 text-primary"></i>Introducción</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/sintaxis.html"><i class="bi bi-code-slash me-2 text-info"></i>Sintaxis</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/operadores.html"><i class="bi bi-funnel me-2 text-info"></i>Operadores</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/estructuras_control.html"><i class="bi bi-diagram-3 me-2 text-success"></i>Estructuras de Control</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/funciones.html"><i class="bi bi-braces-asterisk me-2 text-warning"></i>Funciones</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/excepciones.html"><i class="bi bi-exclamation-triangle me-2 text-danger"></i>Excepciones</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/poo.html"><i class="bi bi-box me-2 text-purple"></i>POO</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/conexion_mysql.html"><i class="bi bi-database me-2 text-success"></i>Conexión a MySQL</a></li>
              <li><a class="dropdown-item py-2" href="../PythonVsPHP/sesiones.html"><i class="bi bi-shield-lock me-2 text-secondary"></i>Sesiones y Login</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item py-2 fw-semibold" href="../PythonvsPHP.html"><i class="bi bi-grid me-2"></i>Ver Comparativa</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="main">
    <!-- HERO -->
    <section class="hero-ej">
      <div class="container text-center">
        <br></br>
        <div class="hero-top-actions">
          <a href="../ejercicios.html" class="btn btn-outline-secondary btn-pill-sm">
            <i class="bi bi-arrow-left me-1"></i> Volver al menú
          </a>
        </div>

        <span class="badge bg-primary mb-3">POO</span>
        <h1 class="display-5 mb-2">Polimorfismo</h1>
        <p class="lead text-muted">Ejercicio de polimorfismo.</p>
      </div>
    </section>
    <!-- HERO -->


    <!-- CONTENIDO -->
    <section class="ej-wrap">
      <div class="container">
        <div class="ej-panel">

          <!-- ENUNCIADO (EDITAR AQUÍ) -->
          <div class="explain-card mb-4">
            <h4 class="fw-bold mb-2">Enunciado</h4>

            <p class="mb-2">
              Desarrollar un ejercicio de <b>Polimorfismo</b> en Python aplicando <b>POO</b> y <b>Flask</b>.
              El usuario debe seleccionar un <b>animal</b> (Perro, Gato, Vaca, Dinosaurio o Cucú), escoger un <b>tipo</b>
              relacionado con ese animal (por ejemplo: raza, hábitat, entorno, era, tipo de vuelo) y marcar si el animal está <b>Vivo</b>.
            </p>

            <p class="mb-0 hint">
              Objetivo: comprender cómo el mismo método <code>habla()</code> se comporta diferente según el objeto (polimorfismo),
              integrándolo con un formulario web en Flask y, si está vivo, reproducir un sonido asociado al animal.
            </p>

          </div>

          <div class="explain-card mb-4">
            <h4 class="fw-bold mb-3">Explicación del código (paso a paso)</h4>

            <h5 class="fw-bold mb-2">1) ¿Qué hace el programa?</h5>
            <p class="mb-3">
              El sistema permite elegir un animal y ejecutar el método <code>habla()</code>.
              Aunque todos los animales usan el mismo nombre de método, cada clase devuelve un mensaje distinto.
              Eso es <b>polimorfismo</b>. 
            </p>

            <h5 class="fw-bold mb-2">2) Interfaz / Contrato (Parlanchin)</h5>
            <p class="mb-3">
              Se define una interfaz (contrato) llamada <code>Parlanchin</code> que obliga a implementar el método <code>habla()</code>.
              Esto asegura que cualquier “animal parlante” tenga ese método. :contentReference[oaicite:2]{index=2}
            </p>

            <h5 class="fw-bold mb-2">3) Clase base Animal</h5>
            <p class="mb-3">
              La clase abstracta <code>Animal</code> hereda de <code>Parlanchin</code> y centraliza atributos comunes como tipo y estado.
              Las clases hijas solo implementan su versión de <code>habla()</code>. :contentReference[oaicite:3]{index=3}
            </p>

            <h5 class="fw-bold mb-2">4) Clases hijas (Polimorfismo)</h5>
            <p class="mb-3">
              Perro, Gato, Vaca, Dinosaurio y Cucú implementan <code>habla()</code> con mensajes diferentes.
              Con el mismo llamado <code>obj.habla()</code>, el resultado cambia según el objeto. 
            </p>

            <h5 class="fw-bold mb-2">5) Formulario + JavaScript</h5>
            <p class="mb-3">
              En la página web se usan radios para elegir animal y un <code>select</code> para elegir el tipo.
              Con JavaScript se cargan dinámicamente las opciones del select según el animal seleccionado. :contentReference[oaicite:5]{index=5}
            </p>

            <h5 class="fw-bold mb-2">6) Flask y reproducción de sonido</h5>
            <p class="mb-0">
              Flask recibe el formulario por POST, arma el resultado y, si el animal está vivo, se muestra un reproductor de audio
              con el sonido correspondiente. Si está muerto, no se reproduce sonido. :contentReference[oaicite:6]{index=6}
            </p>
          </div>
<div class="explain-card mb-4">
  <h4 class="fw-bold mb-3">Archivos del proyecto</h4>

<pre class="code-box">Clase17_Polimorfismo/
│
├── app.py
│
├── interface/
│   └── parlanchin.py
│
├── abstractas/
│   ├── animal.py
│   ├── perro.py
│   ├── gato.py
│   ├── vaca.py
│   ├── dinosaurio.py
│   └── cucu.py
│
├── templates/
│   └── index.html
│
└── static/
    └── sounds/
        ├── perro.mp3
        ├── gato.mp3
        ├── vaca.mp3
        ├── dinosaurio.mp3
        └── cucu.mp3
</pre>

  <p class="hint mb-0">
    Crea la estructura anterior y copia el código en cada archivo.
  </p>
</div>

<div class="explain-card mb-4">
  <h5 class="fw-bold mb-2">Archivo: app.py</h5>

  <div class="text-end mb-2">
    <button class="btn btn-outline-primary btn-sm" onclick="copiarCodigo('codeApp17')">
      <i class="bi bi-clipboard"></i> Copiar código
    </button>
  </div>

<pre class="code-box"><code id="codeApp17">from flask import Flask, render_template_string, request

app = Flask(__name__, static_folder="static/sounds", static_url_path="/sounds")

ANIMALS = {
    "perro": {
        "clase": "Mamífero",
        "label": "Tipo de raza",
        "sound": "/sounds/perro.mp3",
        "opciones": ["Pastor Alemán", "Bulldog", "Labrador"],
        "mensaje": "El perro dice: Guau!",
    },
    "gato": {
        "clase": "Mamífero",
        "label": "Tipo de hábitat",
        "sound": "/sounds/gato.mp3",
        "opciones": ["Casa", "Campo", "Tejado"],
        "mensaje": "El gato dice: Miau!",
    },
    "vaca": {
        "clase": "Mamífero",
        "label": "Tipo de entorno",
        "sound": "/sounds/vaca.mp3",
        "opciones": ["Granja", "Campo", "Establo"],
        "mensaje": "La vaca dice: Muuu!",
    },
    "dinosaurio": {
        "clase": "Reptil",
        "label": "Era",
        "sound": "/sounds/dinosaurio.mp3",
        "opciones": ["Jurásico", "Cretácico", "Triásico"],
        "mensaje": "El dinosaurio ruge!",
    },
    "cucu": {
        "clase": "Ave",
        "label": "Tipo de vuelo",
        "sound": "/sounds/cucu.mp3",
        "opciones": ["Planeado", "Corto", "Alto"],
        "mensaje": "El cucú canta: cucú!",
    },
}

TEMPLATE = r"""&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Polimorfismo con Sonido&lt;/title&gt;

  &lt;style&gt;
    body{font-family:Segoe UI,Arial,sans-serif;background:#f7f8fa;margin:0}
    .box{max-width:520px;background:#fff;padding:24px;margin:60px auto;border-radius:12px;border:1px solid #e0e0e0}
    .grupo{margin-bottom:16px}
    select,button{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ccc;background:#fff}
    button{background:#222;color:#fff;border:none;cursor:pointer}
    button:hover{background:#444}
    .resultado{margin-top:20px;padding-top:15px;border-top:1px solid #ddd}
    audio{margin-top:10px;width:100%}
    em{color:#888}
  &lt;/style&gt;

  &lt;script&gt;
    const opciones = {{ opciones | tojson }};

    function actualizarOpciones() {
      const radios = document.getElementsByName("animal");
      let animal = null;

      for (let r of radios) {
        if (r.checked) { animal = r.value; break; }
      }
      if (!animal) return;

      const tipo = document.getElementById("tipo");
      tipo.innerHTML = "";

      opciones[animal].forEach(op =&gt; {
        const option = document.createElement("option");
        option.value = op;
        option.text = op;
        tipo.add(option);
      });
    }

    document.addEventListener("DOMContentLoaded", () =&gt; {
      const selectedAnimal = "{{ animal_seleccionado }}";
      const selectedTipo = "{{ tipo_seleccionado }}";

      if (selectedAnimal) {
        const radio = document.querySelector('input[name="animal"][value="' + selectedAnimal + '"]');
        if (radio) radio.checked = true;
        actualizarOpciones();

        if (selectedTipo) {
          const sel = document.getElementById("tipo");
          for (const opt of sel.options) {
            if (opt.value === selectedTipo) { opt.selected = true; break; }
          }
        }
      }
    });
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class="box"&gt;
    &lt;h2 style="text-align:center;margin-top:0"&gt;Seleccione un animal&lt;/h2&gt;

    &lt;form method="post"&gt;
      &lt;div class="grupo"&gt;
        &lt;strong&gt;Animal:&lt;/strong&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type="radio" name="animal" value="perro" onclick="actualizarOpciones()" required&gt; Perro&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type="radio" name="animal" value="gato" onclick="actualizarOpciones()"&gt; Gato&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type="radio" name="animal" value="vaca" onclick="actualizarOpciones()"&gt; Vaca&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type="radio" name="animal" value="dinosaurio" onclick="actualizarOpciones()"&gt; Dinosaurio&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type="radio" name="animal" value="cucu" onclick="actualizarOpciones()"&gt; Cucú&lt;/label&gt;
      &lt;/div&gt;

      &lt;div class="grupo"&gt;
        &lt;label&gt;Tipo:&lt;/label&gt;
        &lt;select name="tipo" id="tipo" required&gt;&lt;/select&gt;
      &lt;/div&gt;

      &lt;div class="grupo"&gt;
        &lt;label&gt;&lt;input type="checkbox" name="estado" {% if estado %}checked{% endif %}&gt; Vivo&lt;/label&gt;
      &lt;/div&gt;

      &lt;button type="submit"&gt;Hablar&lt;/button&gt;
    &lt;/form&gt;

    {% if resultado %}
      &lt;div class="resultado"&gt;
        {{ resultado }}&lt;br&gt;
        {{ label_tipo }}: {{ tipo_seleccionado }}&lt;br&gt;
        Estado: {{ estado_texto }}&lt;br&gt;&lt;br&gt;

        {% if estado %}
          &lt;audio id="sonidoAnimal" controls&gt;
            &lt;source src="{{ sonido }}" type="audio/mpeg"&gt;
          &lt;/audio&gt;

          &lt;script&gt;
            window.addEventListener("load", () =&gt; {
              const audio = document.getElementById("sonidoAnimal");
              if (audio) audio.play();
            });
          &lt;/script&gt;
        {% else %}
          &lt;em&gt;El animal está muerto, no puede hablar.&lt;/em&gt;
        {% endif %}
      &lt;/div&gt;
    {% endif %}
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
"""

@app.route("/", methods=["GET", "POST"])
def index():
    resultado = ""
    estado_texto = ""
    tipo_seleccionado = ""
    label_tipo = ""
    sonido = ""
    estado = False
    animal_seleccionado = ""

    if request.method == "POST":
        animal_seleccionado = request.form.get("animal", "")
        tipo_seleccionado = request.form.get("tipo", "")
        estado = "estado" in request.form
        estado_texto = "VIVO" if estado else "MUERTO"

        if animal_seleccionado in ANIMALS:
            info = ANIMALS[animal_seleccionado]
            label_tipo = info["label"]
            sonido = info["sound"]

            if estado:
                resultado = info["mensaje"]
            else:
                resultado = f"El {animal_seleccionado} está muerto, no puede hablar."
                sonido = ""

    return render_template_string(
        TEMPLATE,
        opciones={k: v["opciones"] for k, v in ANIMALS.items()},
        resultado=resultado,
        estado_texto=estado_texto,
        tipo_seleccionado=tipo_seleccionado,
        label_tipo=label_tipo,
        sonido=sonido,
        estado=estado,
        animal_seleccionado=animal_seleccionado,
    )

if __name__ == "__main__":
    app.run(debug=True)
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: interface/parlanchin.py</h5>

<div class="text-end mb-2">

</div>

<pre class="code-box"><code id="codeParlanchin">from abc import ABC, abstractmethod

class Parlanchin(ABC):

    @abstractmethod
    def habla(self):
        pass
</code></pre>

<p class="hint mb-0">
Interfaz que obliga a todas las clases a implementar el método habla().
</p>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/animal.py</h5>

<div class="text-end mb-2">

</div>

<pre class="code-box"><code id="codeAnimal17">from abc import ABC
from interface.parlanchin import Parlanchin

class Animal(Parlanchin, ABC):

    def __init__(self, tipo, estado):
        self.tipo = tipo
        self.estado = estado

    def get_tipo(self):
        return self.tipo

    def get_estado(self):
        return self.estado
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/perro.py</h5>

<div class="text-end mb-2">

</div>

<pre class="code-box"><code id="codePerro17">from abstractas.animal import Animal

class Perro(Animal):

    def habla(self):
        if self.estado:
            return "El perro dice: Guau!"
        else:
            return "El perro está muerto y no puede hablar."
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/gato.py</h5>

<div class="text-end mb-2">
</div>

<pre class="code-box"><code id="codeGato17">from abstractas.animal import Animal

class Gato(Animal):

    def habla(self):
        if self.estado:
            return "El gato dice: Miau!"
        else:
            return "El gato está muerto y no puede hablar."
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/vaca.py</h5>

<div class="text-end mb-2">

</div>

<pre class="code-box"><code id="codeVaca17">from abstractas.animal import Animal

class Vaca(Animal):

    def habla(self):
        if self.estado:
            return "La vaca dice: Muuu!"
        else:
            return "La vaca está muerta y no puede hablar."
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/dinosaurio.py</h5>

<div class="text-end mb-2">

</div>

<pre class="code-box"><code id="codeDino17">from abstractas.animal import Animal

class Dinosaurio(Animal):

    def habla(self):
        if self.estado:
            return "El dinosaurio ruge!"
        else:
            return "El dinosaurio está extinto y no puede hablar."
</code></pre>
</div>

<div class="explain-card mb-4">
<h5 class="fw-bold mb-2">Archivo: abstractas/cucu.py</h5>

<div class="text-end mb-2">
</div>

<pre class="code-box"><code id="codeCucu17">from abstractas.animal import Animal

class Cucu(Animal):

    def habla(self):
        if self.estado:
            return "El cucú canta: cucú!"
        else:
            return "El cucú no está vivo y no puede cantar."
</code></pre>
</div>


<div class="explain-card mb-4">
  <h4 class="fw-bold mb-2">Ejecutar el proyecto</h4>

<pre class="code-box"><code>pip install flask
python app.py
</code></pre>

  <p class="hint mb-0">
    Abre: <b>http://127.0.0.1:5000</b>
  </p>
</div>

<div id="formulario" class="form-shell">
  <div class="form-card">
    <h4 class="fw-bold mb-3 text-center">Polimorfismo</h4>

    <form onsubmit="return simularPolimorfismo(event);">
      <div class="mb-3">
        <label class="form-label">Animal</label>
        <div class="d-flex flex-column gap-2">
          <label><input type="radio" name="animalJS" value="perro" onclick="actualizarTipoJS()" required> Perro</label>
          <label><input type="radio" name="animalJS" value="gato" onclick="actualizarTipoJS()"> Gato</label>
          <label><input type="radio" name="animalJS" value="vaca" onclick="actualizarTipoJS()"> Vaca</label>
          <label><input type="radio" name="animalJS" value="dinosaurio" onclick="actualizarTipoJS()"> Dinosaurio</label>
          <label><input type="radio" name="animalJS" value="cucu" onclick="actualizarTipoJS()"> Cucú</label>
        </div>
      </div>

      <div class="mb-3">
        <label id="lblTipoJS" class="form-label">Tipo</label>
        <select id="tipoJS" class="form-select" required></select>
      </div>

      <div class="mb-3">
        <label><input type="checkbox" id="estadoJS"> Vivo</label>
      </div>

      <button class="btn btn-primary w-100">Hablar (Simulación)</button>

      <div id="msgPoly" class="alert mt-3 d-none" role="alert"></div>
    </form>
  </div>
</div>

<script>
  const ANIMALS_JS = {
    perro: { label: "Tipo de raza", opciones: ["Pastor Alemán", "Bulldog", "Labrador"], mensaje: "El perro dice: Guau!" },
    gato: { label: "Tipo de hábitat", opciones: ["Casa", "Campo", "Tejado"], mensaje: "El gato dice: Miau!" },
    vaca: { label: "Tipo de entorno", opciones: ["Granja", "Campo", "Establo"], mensaje: "La vaca dice: Muuu!" },
    dinosaurio: { label: "Era", opciones: ["Jurásico", "Cretácico", "Triásico"], mensaje: "El dinosaurio ruge!" },
    cucu: { label: "Tipo de vuelo", opciones: ["Planeado", "Corto", "Alto"], mensaje: "El cucú canta: cucú!" }
  };

  function animalSeleccionadoJS() {
    const radios = document.getElementsByName("animalJS");
    for (const r of radios) if (r.checked) return r.value;
    return "";
  }

  function actualizarTipoJS() {
    const a = animalSeleccionadoJS();
    if (!a) return;

    const info = ANIMALS_JS[a];
    document.getElementById("lblTipoJS").innerText = info.label;

    const sel = document.getElementById("tipoJS");
    sel.innerHTML = "";
    info.opciones.forEach(op => {
      const opt = document.createElement("option");
      opt.value = op;
      opt.text = op;
      sel.add(opt);
    });
  }

  function mostrarMsgPoly(tipo, html) {
    const box = document.getElementById("msgPoly");
    box.classList.remove("d-none", "alert-success", "alert-danger", "alert-warning");
    box.classList.add(tipo);
    box.innerHTML = html;
  }

  function simularPolimorfismo(event) {
    event.preventDefault();

    const a = animalSeleccionadoJS();
    if (!a) return mostrarMsgPoly("alert-warning", "❗ Seleccione un animal."), false;

    const tipoSel = document.getElementById("tipoJS").value;
    const vivo = document.getElementById("estadoJS").checked;

    const info = ANIMALS_JS[a];

    if (!vivo) {
      mostrarMsgPoly("alert-danger", `❌ El <b>${a}</b> está <b>MUERTO</b>, no puede hablar.`);
      return false;
    }

    mostrarMsgPoly(
      "alert-success",
      `✅ <b>${info.mensaje}</b><br>
       <b>${info.label}:</b> ${tipoSel}<br>
       <b>Estado:</b> VIVO<br><br>
       <em>(En simulación JS no se reproduce audio. En Flask sí se reproduce con mp3.)</em>`
    );

    return false;
  }

  document.addEventListener("DOMContentLoaded", () => {
    // deja el select vacío hasta elegir animal
    document.getElementById("tipoJS").innerHTML = "";
  });
</script>



          <!-- ✅ FORMULARIO / SALIDA (sale después del botón) -->



          <!-- ANTERIOR / SIGUIENTE -->
        </div>
      </div>
    </section>
    <!-- ANTERIOR / SIGUIENTE -->
    <div class="ej-nav-bottom">
      <a href="ejercicio16.html" class="btn btn-outline-primary btn-pill"><i class="bi bi-arrow-left me-1"></i>
        Anterior</a>
      <button class="btn btn-primary btn-pill" disabled>Siguiente <i class="bi bi-arrow-right ms-1"></i></button>
    </div>

    </div>
    </div>
    </section>
  </main>

  <!-- Footer Moderno -->
  <footer class="footer-modern">
    <div class="container">
      <div class="row g-5">
        <div class="col-lg-4">
          <h4 class="footer-brand">
            <i class="bi bi-braces me-2"></i>Python Academy
          </h4>
          <p class="footer-text">
            Proyecto académico de aprendizaje en Python y Flask, desarrollado de forma colaborativa por estudiantes
            apasionados por la programación.
          </p>
          <div class="d-flex gap-3 mt-4">
            <a href="#" class="text-white fs-5 icon-hover-scale"><i class="bi bi-github"></i></a>
            <a href="#" class="text-white fs-5 icon-hover-scale"><i class="bi bi-linkedin"></i></a>
            <a href="#" class="text-white fs-5 icon-hover-scale"><i class="bi bi-twitter-x"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-md-4">
          <h5 class="footer-title">Navegación</h5>
          <ul class="footer-links">
            <li><a href="../index.html"><i class="bi bi-chevron-right"></i> Inicio</a></li>
            <li><a href="../teoria.html"><i class="bi bi-chevron-right"></i> Teoría</a></li>
            <li><a href="../ejercicios.html"><i class="bi bi-chevron-right"></i> Ejercicios</a></li>
            <li><a href="../explicacion_crud.html"><i class="bi bi-chevron-right"></i> CRUD</a></li>

          </ul>
        </div>

        <div class="col-lg-3 col-md-4">
          <h5 class="footer-title">Temas Populares</h5>
          <ul class="footer-links">
            <li><a href="../teoria/teoria_infraestructura.html"><i class="bi bi-chevron-right"></i> Backend</a></li>
            <li><a href="../teoria/teoria_tiposDatos.html"><i class="bi bi-chevron-right"></i> Tipos de Datos</a></li>
            <li><a href="../teoria/teoria_poo.html"><i class="bi bi-chevron-right"></i> POO</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-4">
          <h5 class="footer-title">Tecnologías</h5>
          <div class="d-flex flex-wrap gap-2 mt-3">
            <span class="badge bg-primary bg-opacity-25 text-white px-3 py-2">Python</span>
            <span class="badge bg-success bg-opacity-25 text-white px-3 py-2">Flask</span>
            <span class="badge bg-warning bg-opacity-25 text-white px-3 py-2">MySQL</span>
            <span class="badge bg-info bg-opacity-25 text-white px-3 py-2">HTML5</span>
            <span class="badge bg-danger bg-opacity-25 text-white px-3 py-2">Bootstrap</span>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p class="mb-0">

          © 2026 <strong>Python Academy</strong>. Proyecto académico • Flask & Python

        </p>
      </div>
    </div>
  </footer>

  <script src="../static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../static/assets/vendor/aos/aos.js"></script>
  <script src="../static/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../static/assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../static/assets/js/main.js"></script>
  <script src="../static/assets/js/sidebar.js"></script>

  <script src="../static/assets/js/effects.js"></script>
  <script src="../static/assets/js/navbar-nested.js"></script>
  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      easing: 'ease-out-cubic',
      once: true,
      offset: 50
    });
  </script>
</body>

</html>


